{
  "$id": "/schema/subscriber.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SubscriberDetail",
  "description": "Additional data about a subscriber",
  "required": ["first_name", "last_name", "email", "country_iso", "opt_in", "entry_text"],
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "opt_in": {
      "type": "number"
    },
    "teq_opt_in": {
      "type": "number"
    },
    "first_name": {
      "type": ["string", "null"],
      "minLength": 1,
      "maxLength": 256,
      "examples": ["Bob", "Damien", "Aaron"]
    },
    "last_name": {
      "type": ["string", "null"],
      "minLength": 1,
      "maxLength": 256,
      "examples": ["Subscriber", "Robinson", "Smith"]
    },
    "email": {
      "type": "string",
      "format": "email",
      "minLength": 1,
      "maxLength": 256,
      "examples": ["username@gmail.com", "damien.robinson@xcommedia.com.au"]
    },
    "hash": {
      "type": ["string", "null"],
      "minLength": 40,
      "maxLength": 40,
      "examples": ["ac772dc8ed1f7786332e1bb8d0e9edede72e66d6"]
    },
    "country_iso": {
      "type": ["string", "null"],
      "minLength": 1,
      "maxLength": 256,
      "examples": ["AU", "NZ", "CN", "JP", "DE"]
    },
    "state": {
      "type": ["string", "null"],
      "minLength": 0,
      "maxLength": 256,
      "examples": ["AU", "NZ", "CN", "JP", "DE"]
    },
    "entry_text": {
      "type": ["string"],
      "minLength": 1,
      "maxLength": 280,
      "examples": ["I really wanna win"]
    }
  },
  "if": { "properties": { "country_iso": { "const": "AU" } } },
  "then": {
    "properties": { "postcode": { "type": "integer", "minimum": 200, "maximum": 9999 } }
  }
}
